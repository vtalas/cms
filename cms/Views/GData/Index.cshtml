@using cms.Code.LinkAccounts
@model cms.Code.LinkAccounts.GoogleDataOAuth2Service

@{
    Layout = "../_AdminTemplates/_Layout_Appllication.cshtml";
    ViewBag.Title = "Settings";
}

<h1>&nbsp;</h1>
@switch (Model.GetStatus())
{
    case GoogleDataOAuth2Status.Authorized:
        <div>
            <table>
                <tr>
                    <td>
                        <button class="btn btn-danger btn-large">zrušit propojení</button>
                    </td>
                    <td>
                        <img src="@Url.Content("~/Content/images/picasa.png")"/>
                    </td>
                </tr>

            </table>

            @Html.Partial("GdataPhotosSettins")

        </div>
        break;

    case GoogleDataOAuth2Status.NotAuthorized:
        Html.RenderPartial("Index_NotAuthorized", Model.Storage.Parameters);
        break;

    case GoogleDataOAuth2Status.NeedRefresh:
	@Model.GetStatus()
	<div>Připojení na Google Data nefunguje jak má. Je potřeba resetovat propojení a provést autorizaci znovu.</div>
	@Html.ActionLink("Resetovat propojení", "Revoke", "GData", new { @class = "btn" })
				
        break;
}

